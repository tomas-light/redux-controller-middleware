{"version":3,"file":"useDispatchWithDiScope.js","sourceRoot":"","sources":["../../../redux-controller-middleware/src/hooks/useDispatchWithDiScope.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAC;AAC9C,OAAO,EAAE,WAAW,EAAE,MAAM,OAAO,CAAC;AACpC,OAAO,EAAE,WAAW,EAAE,MAAM,aAAa,CAAC;AAC1C,OAAO,EAAE,oBAAoB,EAAE,MAAM,2BAA2B,CAAC;AAEjE;;;KAGK;AACL,MAAM,UAAU,sBAAsB;IACpC,MAAM,QAAQ,GAAG,WAAW,EAAE,CAAC;IAC/B,MAAM,SAAS,GAAG,YAAY,EAAE,CAAC;IAEjC,MAAM,0BAA0B,GAAG,WAAW,CAC5C,CAAC,MAAM,EAAE,EAAE;QACT,MAAM,SAAS,GAAG,oBAAoB,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;QAC1D,OAAO,QAAQ,CAAC,SAAS,CAAQ,CAAC;IACpC,CAAC,EACD,CAAC,QAAQ,EAAE,SAAS,CAAC,SAAS,CAAC,CAChC,CAAC;IAEF,OAAO,0BAA0B,CAAC;AACpC,CAAC","sourcesContent":["import { useDiContext } from 'cheap-di-react';\nimport { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { addContainerToAction } from './addContainerToAction.js';\n\n/**\n * Warning! it is experimental hook, we don't recommend to use it\n * adds current container scope (from React.Context) to dispatched action to resolve all dependencies from its scope\n * */\nexport function useDispatchWithDiScope() {\n  const dispatch = useDispatch();\n  const diContext = useDiContext();\n\n  const dispatchWithContainerScope = useCallback<typeof dispatch>(\n    (action) => {\n      const newAction = addContainerToAction(action, diContext);\n      return dispatch(newAction) as any;\n    },\n    [dispatch, diContext.container]\n  );\n\n  return dispatchWithContainerScope;\n}\n"]}